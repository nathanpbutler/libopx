<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net9.0</TargetFramework>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
    <RootNamespace>nathanbutlerDEV.libopx</RootNamespace>
    <Version>2.0.0</Version>
    
    <!-- Package Information -->
    <PackageId>libopx</PackageId>
    <Title>libopx - MXF and Teletext Processing Library</Title>
    <Authors>Nathan Butler</Authors>
    <Description>A .NET 9 C# library for parsing and extracting data from MXF (Material Exchange Format) and extracted data streams, VBI (Vertical Blanking Interval), and T42 (Teletext packet stream) files, with SMPTE timecode and Teletext caption support (OP-42 &amp; OP-47 in particular).</Description>
    <PackageProjectUrl>https://github.com/nathanpbutler/libopx</PackageProjectUrl>
    <RepositoryUrl>https://github.com/nathanpbutler/libopx</RepositoryUrl>
    <RepositoryType>git</RepositoryType>
    <PackageLicenseFile>LICENSE</PackageLicenseFile>
    <PackageReadmeFile>README.md</PackageReadmeFile>
    <PackageTags>mxf;teletext;vbi;t42;smpte;timecode;caption;subtitles;broadcast;video;parsing;extraction;conversion;op42;op47;cli;dotnet;async;performance</PackageTags>
    <Copyright>Copyright (c) 2025 Nathan Butler</Copyright>
    <PackageReleaseNotes>v2.0.0: Major release with EBU STL (EBU-Tech 3264) and RCWT format support. Breaking change: BIN class refactored to MXFData nested class. Fixed critical row filtering bug affecting all output formats. Migrated from Git LFS to GitHub releases (99% repository size reduction). Enhanced header writing framework and sample file management with OPX_SAMPLES_VERSION environment variable support.</PackageReleaseNotes>
    
    <!-- Documentation -->
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
    <DocumentationFile>bin\$(Configuration)\$(TargetFramework)\$(AssemblyName).xml</DocumentationFile>

    <!-- SourceLink and Symbol Packages -->
    <PublishRepositoryUrl>true</PublishRepositoryUrl>
    <EmbedUntrackedSources>true</EmbedUntrackedSources>
    <DebugType>embedded</DebugType>
    <IncludeSymbols>true</IncludeSymbols>
    <SymbolPackageFormat>snupkg</SymbolPackageFormat>
  </PropertyGroup>

  <PropertyGroup Condition="'$(Configuration)' == 'Release'">
    <ContinuousIntegrationBuild Condition="'$(GITHUB_ACTIONS)' == 'true'">true</ContinuousIntegrationBuild>
  </PropertyGroup>

  <ItemGroup>
    <Folder Include="Keys/" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.SourceLink.GitHub" Version="8.0.0" PrivateAssets="All" />
  </ItemGroup>

  <ItemGroup>
    <None Include="../LICENSE" Pack="true" PackagePath="/" />
    <None Include="../README.md" Pack="true" PackagePath="/" />
    <None Include="../assets/**" Pack="true" PackagePath="assets/" />
  </ItemGroup>

</Project>
